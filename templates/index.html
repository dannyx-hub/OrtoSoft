<!-- index.html -->
{% extends "base.html" %}
<head>
  <link rel="stylesheet" href="/static/css/calendar.css">
</head>
{% block title %}Kalendarz{% endblock %}
<link rel="stylesheet" href="/static/css/calendar.css">
{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

  <!-- FullCalendar.js JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@3.10.2/dist/fullcalendar.min.js"></script>
     <!-- Kontener dla kalendarza -->
  <div id="calendar"></div>

  <!-- Skrypty FullCalendar.js -->
  <script>
    // Inicjalizacja FullCalendar.js
      $(document).ready(function() {
      $('#calendar').fullCalendar({
        header: {
          left: 'prev,next today',
          center: 'title',
          right: 'month,agendaWeek,agendaDay'
        },
        events: [
           {% for wydarzenie in wydarzenia %}
            {
              title: '{{ wydarzenie.title }}',
              start: '{{ wydarzenie.start }}',
              {% if wydarzenie.end %}
                end: '{{ wydarzenie.end }}',
              {% endif %}
            },
          {% endfor %}
        ]
      });
    });
  </script>
{% endblock %}